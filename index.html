<!DOCTYPE html>
<html>
<head>
    <title>Sorting Visualized</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--
        This page visualizes how various sort algorithms perform sorting.
        Written with JavaScript.
        if bubbleRadio is selected, and the start button is pressed, then bubbleSort() is called
    -->

    <div id="canvas-container">
        <canvas id="canvas" width="800" height="600"></canvas>
    </div>
    
    <br>

    <form>
        <div id="button-group">
            <div id="selector">
                <input type="radio" id="bubbleRadio" value="bubble" name="algo">Bubble Sort &nbsp;
                <input type="radio" id="insertionRadio" value="insertion" name="algo">Insertion Sort &nbsp;
                <input type="radio" id="mergeRadio" value="merge" name="algo">Merge Sort &nbsp;
                <input type="radio" id="quickRadio" value="quick" name="algo">Quick Sort &nbsp;
            </div>
        
            <br>
            
            <div id="control">
                <button id="start" onclick="bubbleSort()">Start</button>
                <!--
                    <button id="pause" onclick="pause()">Pause</button>
                    <button id="reset" onclick="reset()">Reset</button> 
                -->
            </div>
        </div>
    </form>

<script>
    var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");

var array = [];
var arraySize = 30;
var arrayMax = 30;
var arrayMin = 1;

var width = canvas.width;
var height = canvas.height;

var barWidth = width / arraySize;
var barHeight = height / arrayMax;

var delay = 50;

function initArray() {
    for (var i = 0; i < arraySize; i++) {
        array[i] = Math.floor(Math.random() * (arrayMax - arrayMin + 1)) + arrayMin;
    }
}

function drawArray() {
    ctx.clearRect(0, 0, width, height);
    for (var i = 0; i < arraySize; i++) {
        ctx.fillRect(i * barWidth, height - array[i] * barHeight, barWidth, array[i] * barHeight);
    }
}

function bubbleSort() {
    var i = 0;
    var j = 0;
    var temp = 0;
    var interval = setInterval(function() {
        if (i < arraySize) {
            if (j < arraySize - i - 1) {
                if (array[j] > array[j + 1]) {
                    temp = array[j];
                    array[j] = array[j + 1];
                    array[j + 1] = temp;
                }
                j++;
            } else {
                i++;
                j = 0;
            }
            drawArray();
        } else {
            clearInterval(interval);
        }
    }, delay);
}

initArray();
drawArray();
</script>

</body>
</html>