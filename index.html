<!DOCTYPE html>
<html>
<head>
    <title>Sorting Visualized</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--
        This page visualizes how various sort algorithms perform sorting.
        Written with JavaScript.
    -->
    <canvas id="canvas" width="800" height="600"></canvas>

    <button id="start" onclick="bubbleSort()">Start</button>

    <script>
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");

        var array = [];
        var arraySize = 100;
        var arrayMax = 100;
        var arrayMin = 1;

        var width = canvas.width;
        var height = canvas.height;

        var barWidth = width / arraySize;
        var barHeight = height / arrayMax;

        var delay = 1;

        function initArray() {
            for (var i = 0; i < arraySize; i++) {
                array[i] = Math.floor(Math.random() * (arrayMax - arrayMin + 1)) + arrayMin;
            }
        }

        function drawArray() {
            ctx.clearRect(0, 0, width, height);
            for (var i = 0; i < arraySize; i++) {
                ctx.fillRect(i * barWidth, height - array[i] * barHeight, barWidth, array[i] * barHeight);
            }
        }

        function bubbleSort() {
            var i = 0;
            var j = 0;
            var temp = 0;
            var interval = setInterval(function() {
                if (i < arraySize) {
                    if (j < arraySize - i - 1) {
                        if (array[j] > array[j + 1]) {
                            temp = array[j];
                            array[j] = array[j + 1];
                            array[j + 1] = temp;
                        }
                        j++;
                    } else {
                        i++;
                        j = 0;
                    }
                    drawArray();
                } else {
                    clearInterval(interval);
                }
            }, delay);
        }

        initArray();
        drawArray();
    </script>
</body>
</html>